<!DOCTYPE html>
<html>

<head>
  <title>Hero Style</title>
  <link rel="stylesheet" type="text/css" href="https://unpkg.com/contentful-ui-extensions-sdk@3/dist/cf-extension.css">
  <script src="https://unpkg.com/contentful-ui-extensions-sdk@3"></script>
</head>

<body>
  <div class="widget-cta-button">
    <label for="light">
      <input type="radio" class="form-control" name="heroStyle" id="light" value="light" checked>
      Light
    </label>
    <label for="dark">
      <input type="radio" class="form-control" name="heroStyle" id="dark" value="dark">
      Dark
    </label>
  </div>
  <script type="text/javascript">
    window.contentfulExtension.init(extension => {
      const heroStyleRadios = document.getElementsByName("heroStyle");
      let value = extension.field.getValue() === 'dark' ? 'dark' : 'light'

      function onValueChanged (newVal) {
        value = newVal;

        for (var i = 0, length = heroStyleRadios.length; i < length; i++) {
          if (heroStyleRadios[i].value === value) {
            heroStyleRadios[i].checked = true;
          } else {
            heroStyleRadios[i].checked = false;
          }
        }

        extension.field.setValue(value);
      }

      for (var i = 0, length = heroStyleRadios.length; i < length; i++) {
        heroStyleRadios[i].addEventListener('change', (event) => {
          onValueChanged(event.target.value);
        })
      }

      onValueChanged(value);
    });
  </script>
</body>

</html>